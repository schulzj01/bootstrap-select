/*!
 * Bootstrap-select v1.14.0-beta3 (https://developer.snapappointments.com/bootstrap-select)
 *
 * Copyright 2012-2022 SnapAppointments, LLC
 * Licensed under MIT (https://github.com/snapappointments/bootstrap-select/blob/master/LICENSE)
 */

!function(e,t){void 0===e&&void 0!==window&&(e=window),"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){!function(x){"use strict";var d=["sanitize","whiteList","sanitizeFn"],v=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],e={"*":["class","dir","id","lang","role","tabindex","style",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},g=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,b=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i,n=["title","placeholder"];function z(e,t,i){if(i&&"function"==typeof i)return i(e);for(var s=Object.keys(t),n=0,o=e.length;n<o;n++)for(var l=e[n].querySelectorAll("*"),r=0,a=l.length;r<a;r++){var c=l[r],d=c.nodeName.toLowerCase();if(-1!==s.indexOf(d))for(var h=[].slice.call(c.attributes),p=[].concat(t["*"]||[],t[d]||[]),u=0,f=h.length;u<f;u++){var m=h[u];!function(e,t){var i=e.nodeName.toLowerCase();if(-1!==x.inArray(i,t))return-1===x.inArray(i,v)||Boolean(e.nodeValue.match(g)||e.nodeValue.match(b));for(var s=x(t).filter(function(e,t){return t instanceof RegExp}),n=0,o=s.length;n<o;n++)if(i.match(s[n]))return 1}(m,p)&&c.removeAttribute(m.nodeName)}else c.parentNode.removeChild(c)}}function h(t){var i,s={};return n.forEach(function(e){(i=t.attr(e))&&(s[e]=i)}),!s.placeholder&&s.title&&(s.placeholder=s.title),s}function k(){var e=this.selectpicker.main.data.filter(function(e){return!!e.selected&&(!this.options.hideDisabled||!e.disabled)},this);if(this.options.source.data&&!this.multiple&&1<e.length){for(var t=0;t<e.length-1;t++)e[t].selected=!1;e=[e[e.length-1]]}return e}function y(e){for(var t,i=[],s=e||k.call(this),n=0,o=s.length;n<o;n++)(t=s[n]).disabled||i.push(void 0===t.value?t.text:t.value);return this.multiple?i:i.length?i[0]:null}var s={useDefault:!1,_set:x.valHooks.select.set};x.valHooks.select.set=function(e,t){return t&&!s.useDefault&&x(e).data("selected",!0),s._set.apply(this,arguments)};var $=null;function w(e,t,i,s){for(var n=["display","subtext","tokens"],o=!1,l=0;l<n.length;l++){var r=n[l],a=e[r];if(a&&(a=a.toString(),"display"===r&&(a=a.replace(/<[^>]+>/g,"")),a=(a=s?u(a):a).toUpperCase(),o="function"==typeof i?i(a,t):"contains"===i?0<=a.indexOf(t):a.startsWith(t)))break}return o}function I(e){return parseInt(e,10)||0}x.fn.triggerNative=function(e){const t=this[0];e=new Event(e,{bubbles:!0});t.dispatchEvent(e)};var t={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"},i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g");function l(e){return t[e]}function u(e){return(e=e.toString())&&e.replace(i,l).replace(o,"")}var r,a,c,p,S=(r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},a="(?:"+Object.keys(r).join("|")+")",c=RegExp(a),p=RegExp(a,"g"),function(e){return c.test(e=null==e?"":""+e)?e.replace(p,f):e});function f(e){return r[e]}var C={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},E=27,O=13,A=32,T=9,N=38,D=40,m=window.Dropdown||bootstrap.Dropdown;function L(){var t;try{t=x.fn.dropdown.Constructor.VERSION}catch(e){t=m.VERSION}return t}var H={success:!1,major:"3"};try{H.full=(L()||"").split(" ")[0].split("."),H.major=H.full[0],H.success=!0}catch(e){}var W=0,B=".bs.select",P={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title",ICONBASE:"glyphicon",TICKICON:"glyphicon-ok"},R={MENU:"."+P.MENU,DATA_TOGGLE:'data-toggle="dropdown"'},M={div:document.createElement("div"),span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode("\xa0"),fragment:document.createDocumentFragment(),option:document.createElement("option")};M.selectedOption=M.option.cloneNode(!1),M.selectedOption.setAttribute("selected",!0),M.noResults=M.li.cloneNode(!1),M.noResults.className="no-results",M.a.setAttribute("role","option"),M.a.className="dropdown-item",M.subtext.className="text-muted",M.text=M.span.cloneNode(!1),M.text.className="text",M.checkMark=M.span.cloneNode(!1);var U=new RegExp(N+"|"+D),V=new RegExp("^"+T+"$|"+E),j={li:function(e,t,i){var s=M.li.cloneNode(!1);return e&&(1===e.nodeType||11===e.nodeType?s.appendChild(e):s.innerHTML=e),void 0!==t&&""!==t&&(s.className=t),null!=i&&s.classList.add("optgroup-"+i),s},a:function(e,t,i){var s=M.a.cloneNode(!0);return e&&(11===e.nodeType?s.appendChild(e):s.insertAdjacentHTML("beforeend",e)),void 0!==t&&""!==t&&s.classList.add.apply(s.classList,t.split(/\s+/)),i&&s.setAttribute("style",i),s},text:function(e,t){var i,s,n=M.text.cloneNode(!1);if(e.content?n.innerHTML=e.content:(n.textContent=e.text,e.icon&&(i=M.whitespace.cloneNode(!1),(s=(!0===t?M.i:M.span).cloneNode(!1)).className=this.options.iconBase+" "+e.icon,M.fragment.appendChild(s),M.fragment.appendChild(i)),e.subtext&&((i=M.subtext.cloneNode(!1)).textContent=e.subtext,n.appendChild(i))),!0===t)for(;0<n.childNodes.length;)M.fragment.appendChild(n.childNodes[0]);else M.fragment.appendChild(n);return M.fragment},label:function(e){var t,i,s=M.text.cloneNode(!1);return s.innerHTML=e.display,e.icon&&(t=M.whitespace.cloneNode(!1),(i=M.span.cloneNode(!1)).className=this.options.iconBase+" "+e.icon,M.fragment.appendChild(i),M.fragment.appendChild(t)),e.subtext&&((t=M.subtext.cloneNode(!1)).textContent=e.subtext,s.appendChild(t)),M.fragment.appendChild(s),M.fragment}},F={fromOption:function(e,t){var i;switch(t){case"divider":i="true"===e.getAttribute("data-divider");break;case"text":i=e.textContent;break;case"label":i=e.label;break;case"style":i=e.style.cssText;break;case"content":case"tokens":case"subtext":case"icon":i=e.getAttribute("data-"+t)}return i},fromDataSource:function(e,t){var i;switch(t){case"text":case"label":i=e.text||e.value||"";break;case"divider":case"style":case"content":case"tokens":case"subtext":case"icon":i=e[t]}return i}};function G(e,t){e.length||(M.noResults.innerHTML=this.options.noneResultsText.replace("{0}",'"'+S(t)+'"'),this.$menuInner[0].firstChild.appendChild(M.noResults))}function q(e){return!(e.hidden||this.options.hideDisabled&&e.disabled)}function _(e,t){var i=this;s.useDefault||(x.valHooks.select.set=s._set,s.useDefault=!0),this.$element=x(e),this.$newElement=null,this.$button=null,this.$menu=null,this.options=t,this.selectpicker={main:{optionQueue:M.fragment.cloneNode(!1)},search:{},current:{},view:{},isSearching:!1,keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){i.selectpicker.keydown.keyHistory=""},800)}}}},this.sizeInfo={},"number"==typeof(t=this.options.windowPadding)&&(this.options.windowPadding=[t,t,t,t]),this.val=_.prototype.val,this.render=_.prototype.render,this.refresh=_.prototype.refresh,this.setStyle=_.prototype.setStyle,this.selectAll=_.prototype.selectAll,this.deselectAll=_.prototype.deselectAll,this.destroy=_.prototype.destroy,this.remove=_.prototype.remove,this.show=_.prototype.show,this.hide=_.prototype.hide,this.init()}function K(e){var r,a=arguments,c=e;if([].shift.apply(a),!H.success){try{H.full=(L()||"").split(" ")[0].split(".")}catch(e){_.BootstrapVersion?H.full=_.BootstrapVersion.split(" ")[0].split("."):(H.full=[H.major,"0","0"],console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",e))}H.major=H.full[0],H.success=!0}if("4"<=H.major){var t=[];_.DEFAULTS.style===P.BUTTONCLASS&&t.push({name:"style",className:"BUTTONCLASS"}),_.DEFAULTS.iconBase===P.ICONBASE&&t.push({name:"iconBase",className:"ICONBASE"}),_.DEFAULTS.tickIcon===P.TICKICON&&t.push({name:"tickIcon",className:"TICKICON"}),P.DIVIDER="dropdown-divider",P.SHOW="show",P.BUTTONCLASS="btn-light",P.POPOVERHEADER="popover-header",P.ICONBASE="",P.TICKICON="bs-ok-default";for(var i=0;i<t.length;i++){e=t[i];_.DEFAULTS[e.name]=P[e.className]}}"4"<H.major&&(R.DATA_TOGGLE='data-bs-toggle="dropdown"');var s=this.each(function(){var e=x(this);if(e.is("select")){var t=e.data("selectpicker"),i="object"==typeof c&&c;if(i.title&&(i.placeholder=i.title),t){if(i)for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t.options[s]=i[s])}else{var n,o=e.data();for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&-1!==x.inArray(n,d)&&delete o[n];var l=x.extend({},_.DEFAULTS,x.fn.selectpicker.defaults||{},h(e),o,i);l.template=x.extend({},_.DEFAULTS.template,x.fn.selectpicker.defaults?x.fn.selectpicker.defaults.template:{},o.template,i.template),e.data("selectpicker",t=new _(this,l))}"string"==typeof c&&(r=t[c]instanceof Function?t[c].apply(t,a):t.options[c])}});return void 0!==r?r:s}_.VERSION="1.14.0-beta2",_.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",source:{},chunkSize:40,doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:P.BUTTONCLASS,size:"auto",title:null,placeholder:null,allowClear:!1,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:P.ICONBASE,tickIcon:P.TICKICON,showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:e},_.prototype={constructor:_,init:function(){var i=this,e=this.$element.attr("id"),t=this.$element[0],s=t.form;W++,this.selectId="bs-select-"+W,t.classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),t.classList.contains("show-tick")&&(this.options.showTick=!0),this.$newElement=this.createDropdown(),this.$element.after(this.$newElement).prependTo(this.$newElement),s&&null===t.form&&(s.id||(s.id="form-"+this.selectId),t.setAttribute("form",s.id)),this.$button=this.$newElement.children("button"),this.options.allowClear&&(this.$clearButton=this.$button.children(".bs-select-clear-selected")),this.$menu=this.$newElement.children(R.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),t.classList.remove("bs-select-hidden"),this.fetchData(function(){i.render(!0),i.buildList(),requestAnimationFrame(function(){i.$element.trigger("loaded"+B)})}),this.fetchData(function(){i.render(!0),i.buildList(),requestAnimationFrame(function(){i.$element.trigger("loaded"+B)})}),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add(P.MENURIGHT),void 0!==e&&this.$button.attr("data-id",e),this.checkDisabled(),this.clickListener(),4<H.major&&(this.dropdown=new m(this.$button[0])),this.options.liveSearch?(this.liveSearchListener(),this.focusedParent=this.$searchbox[0]):this.focusedParent=this.$menuInner[0],this.setStyle(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide"+B,function(){var e,t;i.isVirtual()&&(t=(e=i.$menuInner[0]).firstChild.cloneNode(!1),e.replaceChild(t,e.firstChild),e.scrollTop=0)}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){i.$element.trigger("hide"+B,e)},"hidden.bs.dropdown":function(e){i.$element.trigger("hidden"+B,e)},"show.bs.dropdown":function(e){i.$element.trigger("show"+B,e)},"shown.bs.dropdown":function(e){i.$element.trigger("shown"+B,e)}}),t.hasAttribute("required")&&this.$element.on("invalid"+B,function(){i.$button[0].classList.add("bs-invalid"),i.$element.on("shown"+B+".invalid",function(){i.$element.val(i.$element.val()).off("shown"+B+".invalid")}).on("rendered"+B,function(){this.validity.valid&&i.$button[0].classList.remove("bs-invalid"),i.$element.off("rendered"+B)}),i.$button.on("blur"+B,function(){i.$element.trigger("focus").trigger("blur"),i.$button.off("blur"+B)})}),s&&x(s).on("reset"+B,function(){requestAnimationFrame(function(){i.render()})})},createDropdown:function(){var e=this.multiple||this.options.showTick?" show-tick":"",t=this.multiple?' aria-multiselectable="true"':"",i="",s=this.autofocus?" autofocus":"";H.major<4&&this.$element.parent().hasClass("input-group")&&(i=" input-group-btn");var n="",o="",l="",r="",a="";return this.options.header&&(n='<div class="'+P.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(o='<div class="bs-searchbox"><input type="search" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+S(this.options.liveSearchPlaceholder)+'"')+' role="combobox" aria-label="Search" aria-controls="'+this.selectId+'" aria-autocomplete="list"></div>'),this.multiple&&this.options.actionsBox&&(l='<div class="bs-actionsbox"><div class="btn-group btn-group-sm"><button type="button" class="actions-btn bs-select-all btn '+P.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+P.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(r='<div class="bs-donebutton"><div class="btn-group"><button type="button" class="btn btn-sm '+P.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),this.options.allowClear&&(a='<span class="close bs-select-clear-selected" title="'+this.options.deselectAllText+'"><span>&times;</span>'),r='<div class="dropdown bootstrap-select'+e+i+'"><button type="button" tabindex="-1" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+R.DATA_TOGGLE+s+' role="combobox" aria-owns="'+this.selectId+'" aria-haspopup="listbox" aria-expanded="false"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner">&nbsp;</div></div> </div>'+a+"</span>"+("4"<=H.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+P.MENU+" "+("4"<=H.major?"":P.SHOW)+'">'+n+o+l+'<div class="inner '+P.SHOW+'" role="listbox" id="'+this.selectId+'" tabindex="-1" '+t+'><ul class="'+P.MENU+" inner "+("4"<=H.major?P.SHOW:"")+'" role="presentation"></ul></div>'+r+"</div></div>",x(r)},setPositionData:function(){this.selectpicker.view.canHighlight=[],this.selectpicker.view.size=0,this.selectpicker.view.firstHighlightIndex=!1;for(var e=0;e<this.selectpicker.current.data.length;e++){var t=this.selectpicker.current.data[e],i=!0;"divider"===t.type?(i=!1,t.height=this.sizeInfo.dividerHeight):"optgroup-label"===t.type?(i=!1,t.height=this.sizeInfo.dropdownHeaderHeight):t.height=this.sizeInfo.liHeight,t.disabled&&(i=!1),this.selectpicker.view.canHighlight.push(i),i&&(this.selectpicker.view.size++,t.posinset=this.selectpicker.view.size,!1===this.selectpicker.view.firstHighlightIndex&&(this.selectpicker.view.firstHighlightIndex=e)),t.position=(0===e?0:this.selectpicker.current.data[e-1].position)+t.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.data.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function($,e,t){var S,C,E=this,i=0,O=[];function A(e,t){var i,s,n,o,l=E.selectpicker.current.data.length,r=[],a=!0,c=E.isVirtual();E.selectpicker.view.scrollTop=e;for(var d,h=E.options.chunkSize,p=Math.ceil(l/h)||1,u=0;u<p;u++){var f=u===p-1?l:(u+1)*h;if(r[u]=[u*h+(u?1:0),f],!l)break;void 0===n&&e-1<=E.selectpicker.current.data[f-1].position-E.sizeInfo.menuInnerHeight&&(n=u)}if(void 0===n&&(n=0),o=[E.selectpicker.view.position0,E.selectpicker.view.position1],i=Math.max(0,n-1),s=Math.min(p-1,n+1),E.selectpicker.view.position0=!1!==c&&Math.max(0,r[i][0])||0,E.selectpicker.view.position1=!1===c?l:Math.min(l,r[s][1])||0,o=o[0]!==E.selectpicker.view.position0||o[1]!==E.selectpicker.view.position1,void 0!==E.activeIndex&&(C=(E.selectpicker.main.data[E.prevActiveIndex]||{}).element,O=(E.selectpicker.main.data[E.activeIndex]||{}).element,S=(E.selectpicker.main.data[E.selectedIndex]||{}).element,t&&(E.activeIndex!==E.selectedIndex&&E.defocusItem(O),E.activeIndex=void 0),E.activeIndex&&E.activeIndex!==E.selectedIndex&&E.defocusItem(S)),void 0!==E.prevActiveIndex&&E.prevActiveIndex!==E.activeIndex&&E.prevActiveIndex!==E.selectedIndex&&E.defocusItem(C),t||o){if(o=E.selectpicker.view.visibleElements?E.selectpicker.view.visibleElements.slice():[],E.selectpicker.view.visibleElements=!1===c?E.selectpicker.current.elements:E.selectpicker.current.elements.slice(E.selectpicker.view.position0,E.selectpicker.view.position1),E.setOptionStatus(),($||!1===c&&t)&&(g=o,d=E.selectpicker.view.visibleElements,a=!(g.length===d.length&&g.every(function(e,t){return e===d[t]}))),(t||!0===c)&&a){var m=E.$menuInner[0],v=document.createDocumentFragment(),g=m.firstChild.cloneNode(!1),b=E.selectpicker.view.visibleElements,w=[];m.replaceChild(g,m.firstChild);for(var u=0,I=b.length;u<I;u++){var x,k,y=b[u];E.options.sanitize&&(x=y.lastChild)&&(k=E.selectpicker.current.data[u+E.selectpicker.view.position0])&&k.content&&!k.sanitized&&(w.push(x),k.sanitized=!0),v.appendChild(y)}E.options.sanitize&&w.length&&z(w,E.options.whiteList,E.options.sanitizeFn),!0===c?(a=0===E.selectpicker.view.position0?0:E.selectpicker.current.data[E.selectpicker.view.position0-1].position,g=E.selectpicker.view.position1>l-1?0:E.selectpicker.current.data[l-1].position-E.selectpicker.current.data[E.selectpicker.view.position1-1].position,m.firstChild.style.marginTop=a+"px",m.firstChild.style.marginBottom=g+"px"):(m.firstChild.style.marginTop=0,m.firstChild.style.marginBottom=0),m.firstChild.appendChild(v),!0===c&&E.sizeInfo.hasScrollBar&&(c=m.firstChild.offsetWidth,t&&c<E.sizeInfo.menuInnerInnerWidth&&E.sizeInfo.totalMenuWidth>E.sizeInfo.selectWidth?m.firstChild.style.minWidth=E.sizeInfo.menuInnerInnerWidth+"px":c>E.sizeInfo.menuInnerInnerWidth&&(E.$menu[0].style.minWidth=0,(c=m.firstChild.offsetWidth)>E.sizeInfo.menuInnerInnerWidth&&(E.sizeInfo.menuInnerInnerWidth=c,m.firstChild.style.minWidth=E.sizeInfo.menuInnerInnerWidth+"px"),E.$menu[0].style.minWidth=""))}(!$&&E.options.source.load||$&&E.options.source.search)&&n===p-1&&E.fetchData(function(){E.render(),E.buildList(l,$),E.setPositionData(),A(e)},$?"search":"load",n+1,$?E.selectpicker.search.previousValue:void 0)}E.prevActiveIndex=E.activeIndex,E.options.liveSearch?$&&t&&(E.selectpicker.view.canHighlight[m=0]||(m=1+E.selectpicker.view.canHighlight.slice(1).indexOf(!0)),t=E.selectpicker.view.visibleElements[m],E.defocusItem(E.selectpicker.view.currentActive),E.activeIndex=(E.selectpicker.current.data[m]||{}).index,E.focusItem(t)):E.$menuInner.trigger("focus")}this.selectpicker.isSearching=$,this.selectpicker.current=$?this.selectpicker.search:this.selectpicker.main,this.setPositionData(),e&&(t?i=this.$menuInner[0].scrollTop:E.multiple||("number"!=typeof(t=((t=E.$element[0]).options[t.selectedIndex]||{}).liIndex)||!1===E.options.size||(t=(t=E.selectpicker.main.data[t])&&t.position)&&(i=t-(E.sizeInfo.menuInnerHeight+E.sizeInfo.liHeight)/2))),A(i,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(e,t){E.noScroll||A(this.scrollTop,t),E.noScroll=!1}),x(window).off("resize"+B+"."+this.selectId+".createView").on("resize"+B+"."+this.selectId+".createView",function(){E.$newElement.hasClass(P.SHOW)&&A(E.$menuInner[0].scrollTop)})},focusItem:function(e,t,i){var s;e&&(t=t||this.selectpicker.main.data[this.activeIndex],(s=e.firstChild)&&(s.setAttribute("aria-setsize",this.selectpicker.view.size),s.setAttribute("aria-posinset",t.posinset),!0!==i&&(this.focusedParent.setAttribute("aria-activedescendant",s.id),e.classList.add("active"),s.classList.add("active"))))},defocusItem:function(e){e&&(e.classList.remove("active"),e.firstChild&&e.firstChild.classList.remove("active"))},setPlaceholder:function(){var e,t,i,s,n,o,l,r=this,a=!1;return!this.options.placeholder&&!this.options.allowClear||this.multiple||(this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),e=this.$element[0],t=!(a=!0),i=!this.selectpicker.view.titleOption.parentNode,s=e.selectedIndex,n=e.options[s],o=(l=e.querySelector("select > *:not(:disabled)"))?l.index:0,l=(l=window.performance&&window.performance.getEntriesByType("navigation"))&&l.length?"back_forward"!==l[0].type:2!==window.performance.navigation.type,i&&(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",t=!n||s===o&&!1===n.defaultSelected&&void 0===this.$element.data("selected")),!i&&0===this.selectpicker.view.titleOption.index||e.insertBefore(this.selectpicker.view.titleOption,e.firstChild),t&&l?e.selectedIndex=0:"complete"!==document.readyState&&window.addEventListener("pageshow",function(){r.selectpicker.view.displayedValue!==e.value&&r.render()})),a},fetchData:function(t,i,e,s){i=i||"data";var n,o=this,l=this.options.source[i];l?(this.options.virtualScroll=!0,"function"==typeof l?l.call(this,function(e){n=o.buildData(e,i),t.call(o,n)},e,s):Array.isArray(l)&&(n=o.buildData(l,i),t.call(o,n))):(n=this.buildData(!1,i),t.call(o,n))},buildData:function(h,e){var p=!1===h?F.fromOption:F.fromDataSource,u=':not([hidden]):not([data-hidden="true"])',f=[],o=0,m=0,v=this.setPlaceholder()&&!h?1:0;"load"===e?o=this.selectpicker.main.data.length:"search"===e&&(o=this.selectpicker.search.data.length),this.options.hideDisabled&&(u+=":not(:disabled)");var t=h?h.filter(q,this):this.$element[0].querySelectorAll("select > *"+u);function g(e){var t=f[f.length-1];t&&"divider"===t.type&&(t.optID||e.optID)||((e=e||{}).type="divider",f.push(e))}function b(e,t){var i,s,n;(t=t||{}).divider=p(e,"divider"),!0===t.divider?g({optID:t.optID}):(i=f.length+o,s=(n=p(e,"style"))?S(n):"",n=(e.className||"")+(t.optgroupClass||""),t.optID&&(n="opt "+n),t.optionClass=n.trim(),t.inlineStyle=s,t.text=p(e,"text"),t.content=p(e,"content"),t.tokens=p(e,"tokens"),t.subtext=p(e,"subtext"),t.icon=p(e,"icon"),t.display=t.content||t.text,t.value=void 0===e.value?e.text:e.value,t.type="option",t.index=i,t.option=e.option||e,t.option.liIndex=i,t.selected=!!e.selected,t.disabled=t.disabled||!!e.disabled,f.push(t))}function i(e,t){var i=t[e],s=!(e-1<v)&&t[e-1],e=t[e+1],n=h?i.children.filter(q,this):i.querySelectorAll("option"+u);if(n.length){var o,l,r={display:S(p(w,"label")),subtext:p(i,"subtext"),icon:p(i,"icon"),type:"optgroup-label",optgroupClass:" "+(i.className||"")};m++,s&&g({optID:m}),r.optID=m,f.push(r);for(var a=0,c=n.length;a<c;a++){var d=n[a];0===a&&(l=(o=f.length-1)+c),b(d,{headerIndex:o,lastIndex:l,optID:r.optID,optgroupClass:r.optgroupClass,disabled:i.disabled})}e&&g({optID:m})}}for(var s=t.length,n=v;n<s;n++){var w=t[n],l=w.children;l&&l.length?i.call(this,n,t):b.call(this,w,{})}switch(e){case"data":this.selectpicker.main.data=this.selectpicker.current.data=f;break;case"load":Array.prototype.push.apply(this.selectpicker.main.data,f),this.selectpicker.current.data=this.selectpicker.main.data;break;case"search":Array.prototype.push.apply(this.selectpicker.search.data,f)}return f},buildList:function(e,t){var n=this,i=(t?this.selectpicker.search:this.selectpicker.main).data,s=[],o=0;!n.options.showTick&&!n.multiple||M.checkMark.parentNode||(M.checkMark.className=this.options.iconBase+" "+n.options.tickIcon+" check-mark",M.a.appendChild(M.checkMark));for(var l=i.length,r=e||0;r<l;r++)!function(e,t){var i,s=0;switch(t.type){case"divider":i=j.li(!1,P.DIVIDER,t.optID?t.optID+"div":void 0);break;case"option":(i=j.li(j.a(j.text.call(n,t),t.optionClass,t.inlineStyle),"",t.optID)).firstChild&&(i.firstChild.id=n.selectId+"-"+t.index);break;case"optgroup-label":i=j.li(j.label.call(n,t),"dropdown-header"+t.optgroupClass,t.optID)}t.element=i,e.push(i),t.display&&(s+=t.display.length),t.subtext&&(s+=t.subtext.length),t.icon&&(s+=1),o<s&&(o=s,n.selectpicker.view.widestOption=e[e.length-1])}(s,i[r]);e?t?Array.prototype.push.apply(this.selectpicker.search.elements,s):(Array.prototype.push.apply(this.selectpicker.main.elements,s),this.selectpicker.current.elements=this.selectpicker.main.elements):t?this.selectpicker.search.elements=s:this.selectpicker.main.elements=this.selectpicker.current.elements=s},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(e){var i=this,t=this.$element[0],s=this.setPlaceholder()&&0===t.selectedIndex,n=k.call(this),o=n.length,l=y.call(this,n),r=this.$button[0],a=r.querySelector(".filter-option-inner-inner"),c=document.createTextNode(this.options.multipleSeparator),d=M.fragment.cloneNode(!1),h=!1;if(this.options.source.data&&e&&(n.map(function e(t){t.selected?i.createOption(t,!0):t.children&&t.children.length&&t.children.map(e)}),t.appendChild(this.selectpicker.main.optionQueue),s=s&&0===t.selectedIndex),r.classList.toggle("bs-placeholder",i.multiple?!o:!l&&0!==l),i.multiple||1!==n.length||(i.selectpicker.view.displayedValue=l),"static"===this.options.selectedTextFormat)d=j.text.call(this,{content:this.options.placeholder},!0);else if(!1===(this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")&&0<o&&(1<(l=this.options.selectedTextFormat.split(">")).length&&o>l[1]||1===l.length&&2<=o))){if(!s){for(var p=0;p<o&&p<50;p++){var u=n[p],f={};u&&(this.multiple&&0<p&&d.appendChild(c.cloneNode(!1)),u.title?f.text=u.title:u.content&&i.options.showContent?(f.content=u.content.toString(),h=!0):(i.options.showIcon&&(f.icon=u.icon),i.options.showSubtext&&!i.multiple&&u.subtext&&(f.subtext=" "+u.subtext),f.text=u.text.trim()),d.appendChild(j.text.call(this,f,!0)))}49<o&&d.appendChild(document.createTextNode("..."))}}else{s=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"])';this.options.hideDisabled&&(s+=":not(:disabled)");var m=this.$element[0].querySelectorAll("select > option"+s+", optgroup"+s+" option"+s).length,s="function"==typeof this.options.countSelectedText?this.options.countSelectedText(o,m):this.options.countSelectedText,d=j.text.call(this,{text:s.replace("{0}",o.toString()).replace("{1}",m.toString())},!0)}d.childNodes.length||(d=j.text.call(this,{text:this.options.placeholder||this.options.noneSelectedText},!0)),r.title=d.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&h&&z([d],i.options.whiteList,i.options.sanitizeFn),a.innerHTML="",a.appendChild(d),H.major<4&&this.$newElement[0].classList.contains("bs3-has-addon")&&(m=r.querySelector(".filter-expand"),(a=a.cloneNode(!0)).className="filter-expand",m?r.replaceChild(a,m):r.appendChild(a)),this.$element.trigger("rendered"+B)},setStyle:function(e,t){var i=this.$button[0],s=this.$newElement[0],n=this.options.style.trim();this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,"")),H.major<4&&(s.classList.add("bs3"),s.parentNode.classList&&s.parentNode.classList.contains("input-group")&&(s.previousElementSibling||s.nextElementSibling)&&(s.previousElementSibling||s.nextElementSibling).classList.contains("input-group-addon")&&s.classList.add("bs3-has-addon")),e=e?e.trim():n,"add"==t?e&&i.classList.add.apply(i.classList,e.split(" ")):"remove"==t?e&&i.classList.remove.apply(i.classList,e.split(" ")):(n&&i.classList.remove.apply(i.classList,n.split(" ")),e&&i.classList.add.apply(i.classList,e.split(" ")))},liHeight:function(e){if(e||!1!==this.options.size&&!Object.keys(this.sizeInfo).length){var t,i=M.div.cloneNode(!1),s=M.div.cloneNode(!1),n=M.div.cloneNode(!1),o=document.createElement("ul"),l=M.li.cloneNode(!1),r=M.li.cloneNode(!1),a=M.a.cloneNode(!1),c=M.span.cloneNode(!1),d=this.options.header&&0<this.$menu.find("."+P.POPOVERHEADER).length?this.$menu.find("."+P.POPOVERHEADER)[0].cloneNode(!0):null,h=this.options.liveSearch?M.div.cloneNode(!1):null,p=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,u=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,e=this.$element[0].options[0];if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,c.className="text",a.className="dropdown-item "+(e?e.className:""),i.className=this.$menu[0].parentNode.className+" "+P.SHOW,i.style.width=0,"auto"===this.options.width&&(s.style.minWidth=0),s.className=P.MENU+" "+P.SHOW,n.className="inner "+P.SHOW,o.className=P.MENU+" inner "+("4"<=H.major?P.SHOW:""),l.className=P.DIVIDER,r.className="dropdown-header",c.appendChild(document.createTextNode("\u200b")),this.selectpicker.current.data.length)for(var f=0;f<this.selectpicker.current.data.length;f++){var m=this.selectpicker.current.data[f];if("option"===m.type){t=m.element;break}}else t=M.li.cloneNode(!1),a.appendChild(c),t.appendChild(a);r.appendChild(c.cloneNode(!0)),this.selectpicker.view.widestOption&&o.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),o.appendChild(t),o.appendChild(l),o.appendChild(r),d&&s.appendChild(d),h&&(v=document.createElement("input"),h.className="bs-searchbox",v.className="form-control",h.appendChild(v),s.appendChild(h)),p&&s.appendChild(p),n.appendChild(o),s.appendChild(n),u&&s.appendChild(u),i.appendChild(s),document.body.appendChild(i);var a=t.offsetHeight,c=r?r.offsetHeight:0,v=d?d.offsetHeight:0,o=h?h.offsetHeight:0,r=p?p.offsetHeight:0,d=u?u.offsetHeight:0,h=x(l).outerHeight(!0),p=window.getComputedStyle(s),u=s.offsetWidth,l={vert:I(p.paddingTop)+I(p.paddingBottom)+I(p.borderTopWidth)+I(p.borderBottomWidth),horiz:I(p.paddingLeft)+I(p.paddingRight)+I(p.borderLeftWidth)+I(p.borderRightWidth)},p={vert:l.vert+I(p.marginTop)+I(p.marginBottom)+2,horiz:l.horiz+I(p.marginLeft)+I(p.marginRight)+2};n.style.overflowY="scroll",s=s.offsetWidth-u,document.body.removeChild(i),this.sizeInfo.liHeight=a,this.sizeInfo.dropdownHeaderHeight=c,this.sizeInfo.headerHeight=v,this.sizeInfo.searchHeight=o,this.sizeInfo.actionsHeight=r,this.sizeInfo.doneButtonHeight=d,this.sizeInfo.dividerHeight=h,this.sizeInfo.menuPadding=l,this.sizeInfo.menuExtras=p,this.sizeInfo.menuWidth=u,this.sizeInfo.menuInnerInnerWidth=u-l.horiz,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=s,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var e,t=x(window),i=this.$newElement.offset(),s=x(this.options.container);this.options.container&&s.length&&!s.is("body")?((e=s.offset()).top+=parseInt(s.css("borderTopWidth")),e.left+=parseInt(s.css("borderLeftWidth"))):e={top:0,left:0};s=this.options.windowPadding;this.sizeInfo.selectOffsetTop=i.top-e.top-t.scrollTop(),this.sizeInfo.selectOffsetBot=t.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-e.top-s[2],this.sizeInfo.selectOffsetLeft=i.left-e.left-t.scrollLeft(),this.sizeInfo.selectOffsetRight=t.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-e.left-s[1],this.sizeInfo.selectOffsetTop-=s[0],this.sizeInfo.selectOffsetLeft-=s[3]},setMenuSize:function(e){this.getSelectPosition();var t,i,s,n,o,l,r=this.sizeInfo.selectWidth,a=this.sizeInfo.liHeight,c=this.sizeInfo.headerHeight,d=this.sizeInfo.searchHeight,h=this.sizeInfo.actionsHeight,p=this.sizeInfo.doneButtonHeight,u=this.sizeInfo.dividerHeight,f=this.sizeInfo.menuPadding,m=0;if(this.options.dropupAuto&&(l=a*this.selectpicker.current.data.length+f.vert,l=this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&l+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot,!0===this.selectpicker.isSearching&&(l=this.selectpicker.dropup),this.$newElement.toggleClass(P.DROPUP,l),this.selectpicker.dropup=l),"auto"===this.options.size)s=3<this.selectpicker.current.data.length?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,t=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,i=s+c+d+h+p,o=Math.max(s-f.vert,0),s=(n=t=this.$newElement.hasClass(P.DROPUP)?this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert:t)-c-d-h-p-f.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var v=0;v<this.options.size;v++)"divider"===this.selectpicker.current.data[v].type&&m++;s=(t=a*this.options.size+m*u+f.vert)-f.vert,n=t+c+d+h+p,i=o=""}this.$menu.css({"max-height":n+"px",overflow:"hidden","min-height":i+"px"}),this.$menuInner.css({"max-height":s+"px",overflow:"hidden auto","min-height":o+"px"}),this.sizeInfo.menuInnerHeight=Math.max(s,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth),"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(P.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-r),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(e){var t,i;this.liHeight(e),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size&&(t=this,i=x(window),this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return t.setMenuSize()}),"auto"===this.options.size?i.off("resize"+B+"."+this.selectId+".setMenuSize scroll"+B+"."+this.selectId+".setMenuSize").on("resize"+B+"."+this.selectId+".setMenuSize scroll"+B+"."+this.selectId+".setMenuSize",function(){return t.setMenuSize()}):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&i.off("resize"+B+"."+this.selectId+".setMenuSize scroll"+B+"."+this.selectId+".setMenuSize")),this.createView(!1,!0,e)},setWidth:function(){var i=this;"auto"===this.options.width?requestAnimationFrame(function(){i.$menu.css("min-width","0"),i.$element.on("loaded"+B,function(){i.liHeight(),i.setMenuSize();var e=i.$newElement.clone().appendTo("body"),t=e.css("width","auto").children("button").outerWidth();e.remove(),i.sizeInfo.selectWidth=Math.max(i.sizeInfo.totalMenuWidth,t),i.$newElement.css("width",i.sizeInfo.selectWidth+"px")})}):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){this.$bsContainer=x('<div class="bs-container" />');function e(e){var t={},i=l.options.display||!!x.fn.dropdown.Constructor.Default&&x.fn.dropdown.Constructor.Default.display;l.$bsContainer.addClass(e.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(P.DROPUP,e.hasClass(P.DROPUP)),s=e.offset(),r.is("body")?n={top:0,left:0}:((n=r.offset()).top+=parseInt(r.css("borderTopWidth"))-r.scrollTop(),n.left+=parseInt(r.css("borderLeftWidth"))-r.scrollLeft()),o=e.hasClass(P.DROPUP)?0:e[0].offsetHeight,(H.major<4||"static"===i)&&(t.top=s.top-n.top+o,t.left=s.left-n.left),t.width=e[0].offsetWidth,l.$bsContainer.css(t)}var s,n,o,l=this,r=x(this.options.container);this.$button.on("click.bs.dropdown.data-api",function(){l.isDisabled()||(e(l.$newElement),l.$bsContainer.appendTo(l.options.container).toggleClass(P.SHOW,!l.$button.hasClass(P.SHOW)).append(l.$menu))}),x(window).off("resize"+B+"."+this.selectId+" scroll"+B+"."+this.selectId).on("resize"+B+"."+this.selectId+" scroll"+B+"."+this.selectId,function(){l.$newElement.hasClass(P.SHOW)&&e(l.$newElement)}),this.$element.on("hide"+B,function(){l.$menu.data("height",l.$menu.height()),l.$bsContainer.detach()})},createOption:function(e,t){var i,s=e.option||e;s&&1!==s.nodeType&&(i=(t?M.selectedOption:M.option).cloneNode(!0),void 0!==s.value&&(i.value=s.value),i.textContent=s.text,i.selected=!0,void 0!==s.liIndex?i.liIndex=s.liIndex:t||(i.liIndex=e.index),e.option=i,this.selectpicker.main.optionQueue.appendChild(i))},setOptionStatus:function(e){var t=this;if(t.noScroll=!1,t.selectpicker.view.visibleElements&&t.selectpicker.view.visibleElements.length){for(var i=0;i<t.selectpicker.view.visibleElements.length;i++){var s=t.selectpicker.current.data[i+t.selectpicker.view.position0];s.option&&(!0!==e&&t.setDisabled(s),t.setSelected(s))}this.options.source.data&&this.$element[0].appendChild(this.selectpicker.main.optionQueue)}},setSelected:function(e,t){t=void 0===t?e.selected:t;var i,s=e.index,n=e.element,o=void 0!==this.activeIndex,l=this.activeIndex===s||t&&!this.multiple&&!o;n&&(void 0!==t&&(e.selected=t,e.option&&(e.option.selected=t)),t&&this.options.source.data&&this.createOption(e,!1),i=n.firstChild,t&&(this.selectedIndex=s),n.classList.toggle("selected",t),l?(this.focusItem(n,e),this.selectpicker.view.currentActive=n,this.activeIndex=s):this.defocusItem(n),i&&(i.classList.toggle("selected",t),t?i.setAttribute("aria-selected",!0):this.multiple?i.setAttribute("aria-selected",!1):i.removeAttribute("aria-selected")),l||o||!t||void 0===this.prevActiveIndex||(t=this.selectpicker.main.elements[this.prevActiveIndex],this.defocusItem(t)))},setDisabled:function(e){var t=e.disabled,i=e.element;i&&(e=i.firstChild,i.classList.toggle(P.DISABLED,t),e&&("4"<=H.major&&e.classList.toggle(P.DISABLED,t),t?(e.setAttribute("aria-disabled",t),e.setAttribute("tabindex",-1)):(e.removeAttribute("aria-disabled"),e.setAttribute("tabindex",0))))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){this.isDisabled()?(this.$newElement[0].classList.add(P.DISABLED),this.$button.addClass(P.DISABLED).attr("aria-disabled",!0)):this.$button[0].classList.contains(P.DISABLED)&&(this.$newElement[0].classList.remove(P.DISABLED),this.$button.removeClass(P.DISABLED).attr("aria-disabled",!1))},clickListener:function(){var I=this,t=x(document);function e(){(I.options.liveSearch?I.$searchbox:I.$menuInner).trigger("focus")}function i(){I.dropdown&&I.dropdown._popper&&I.dropdown._popper.state?e():requestAnimationFrame(i)}t.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&t.data("spaceSelect")&&(e.preventDefault(),t.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){I.dropdown||"4"!==H.major||(I.dropdown=I.$button.data("bs.dropdown"),I.dropdown._menu=I.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(e){var t,i,s;I.options.allowClear&&((i=e.target)!==(s=I.$clearButton[0])&&i.parentElement!==s||(e.stopImmediatePropagation(),I.multiple?I.deselectAll():(i=(t=I.$element[0]).value,s=t.selectedIndex,(e=!!(e=t.options[s])&&I.selectpicker.main.data[e.liIndex])&&I.setSelected(e,!1),t.selectedIndex=0,$=[s,!1,i],I.$element.triggerNative("change")),I.$newElement.hasClass(P.SHOW)&&(I.options.liveSearch&&I.$searchbox.trigger("focus"),I.createView(!1)))),I.$newElement.hasClass(P.SHOW)||I.setSize()}),this.$element.on("shown"+B,function(){I.$menuInner[0].scrollTop!==I.selectpicker.view.scrollTop&&(I.$menuInner[0].scrollTop=I.selectpicker.view.scrollTop),3<H.major?requestAnimationFrame(i):e()}),this.$menuInner.on("mouseenter","li a",function(e){var t=this.parentElement,i=I.isVirtual()?I.selectpicker.view.position0:0,s=Array.prototype.indexOf.call(t.parentElement.children,t),i=I.selectpicker.current.data[s+i];I.focusItem(t,i,!0)}),this.$menuInner.on("click","li a",function(e,t){var i=x(this),s=I.$element[0],n=I.isVirtual()?I.selectpicker.view.position0:0,o=I.selectpicker.current.data[i.parent().index()+n],l=o.index,r=y.call(I),a=s.selectedIndex,c=s.options[a],d=!!c&&I.selectpicker.main.data[c.liIndex],h=!0;if(I.multiple&&1!==I.options.maxOptions&&e.stopPropagation(),e.preventDefault(),!I.isDisabled()&&!i.parent().hasClass(P.DISABLED)){var p=o.option,u=x(p),f=p.selected,m=u.parent("optgroup"),v=m.find("option"),n=I.options.maxOptions,c=m.data("maxOptions")||!1;if((t=l===I.activeIndex?!0:t)||(I.prevActiveIndex=I.activeIndex,I.activeIndex=void 0),I.multiple){if(I.setSelected(o,!f),I.focusedParent.focus(),!1!==n||!1!==c){e=n<k.call(I).length,i=c<m.find("option:selected").length;if(n&&e||c&&i)if(n&&1==n)s.selectedIndex=-1,p.selected=!0,I.setOptionStatus(!0);else if(c&&1==c){for(var g=0;g<v.length;g++){var b=v[g];b.selected=!1,I.setSelected(b.liIndex,!1)}p.selected=!0,I.setSelected(l,!0)}else{var t="string"==typeof I.options.maxOptionsText?[I.options.maxOptionsText,I.options.maxOptionsText]:I.options.maxOptionsText,f="function"==typeof t?t(n,c):t,m=f[0].replace("{n}",n),t=f[1].replace("{n}",c),w=x('<div class="notify"></div>');f[2]&&(m=m.replace("{var}",f[2][1<n?0:1]),t=t.replace("{var}",f[2][1<c?0:1])),p.selected=!1,I.$menu.append(w),n&&e&&(w.append(x("<div>"+m+"</div>")),h=!1,I.$element.trigger("maxReached"+B)),c&&i&&(w.append(x("<div>"+t+"</div>")),h=!1,I.$element.trigger("maxReachedGrp"+B)),setTimeout(function(){I.setSelected(l,!1)},10),w[0].classList.add("fadeOut"),setTimeout(function(){w.remove()},1050)}}}else d&&I.setSelected(d,!1),I.setSelected(o,!0);I.options.source.data&&I.$element[0].appendChild(I.selectpicker.main.optionQueue),!I.multiple||I.multiple&&1===I.options.maxOptions?I.$button.trigger("focus"):I.options.liveSearch&&I.$searchbox.trigger("focus"),h&&(!I.multiple&&a===s.selectedIndex||($=[p.index,u.prop("selected"),r],I.$element.triggerNative("change")))}}),this.$menu.on("click","li."+P.DISABLED+" a, ."+P.POPOVERHEADER+", ."+P.POPOVERHEADER+" :not(.close)",function(e){e.currentTarget==this&&(e.preventDefault(),e.stopPropagation(),(I.options.liveSearch&&!x(e.target).hasClass("close")?I.$searchbox:I.$button).trigger("focus"))}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),(I.options.liveSearch?I.$searchbox:I.$button).trigger("focus")}),this.$menu.on("click","."+P.POPOVERHEADER+" .close",function(){I.$button.trigger("click")}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(e){(I.options.liveSearch?I.$searchbox:I.$button).trigger("focus"),e.preventDefault(),e.stopPropagation(),x(this).hasClass("bs-select-all")?I.selectAll():I.deselectAll()}),this.$button.on("focus"+B,function(e){var t=I.$element[0].getAttribute("tabindex");void 0!==t&&e.originalEvent&&e.originalEvent.isTrusted&&(this.setAttribute("tabindex",t),I.$element[0].setAttribute("tabindex",-1),I.selectpicker.view.tabindex=t)}).on("blur"+B,function(e){void 0!==I.selectpicker.view.tabindex&&e.originalEvent&&e.originalEvent.isTrusted&&(I.$element[0].setAttribute("tabindex",I.selectpicker.view.tabindex),this.setAttribute("tabindex",-1),I.selectpicker.view.tabindex=void 0)}),this.$element.on("change"+B,function(){I.render(),I.$element.trigger("changed"+B,$),$=null}).on("focus"+B,function(){I.options.mobile||I.$button[0].focus()})},liveSearchListener:function(){var p=this;this.$button.on("click.bs.dropdown.data-api",function(){p.$searchbox.val()&&(p.$searchbox.val(""),p.selectpicker.search.previousValue=void 0)}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var t=p.$searchbox[0].value;if(p.selectpicker.search.elements=[],p.selectpicker.search.data=[],t)if(p.options.source.search)p.fetchData(function(e){p.render(),p.buildList(void 0,!0),p.createView(!0),G.call(p,e,t)},"search",0,t);else{var e=[],i=t.toUpperCase(),s={},n=[],o=p._searchStyle(),l=p.options.liveSearchNormalize;l&&(i=u(i));for(var r=0;r<p.selectpicker.main.data.length;r++){var a=p.selectpicker.main.data[r];s[r]||(s[r]=w(a,i,o,l)),s[r]&&void 0!==a.headerIndex&&-1===n.indexOf(a.headerIndex)&&(0<a.headerIndex&&(s[a.headerIndex-1]=!0,n.push(a.headerIndex-1)),s[a.headerIndex]=!0,n.push(a.headerIndex),s[a.lastIndex+1]=!0),s[r]&&"optgroup-label"!==a.type&&n.push(r)}for(var r=0,c=n.length;r<c;r++){var d=n[r],h=n[r-1],a=p.selectpicker.main.data[d],h=p.selectpicker.main.data[h];("divider"!==a.type||"divider"===a.type&&h&&"divider"!==h.type&&c-1!==r)&&(p.selectpicker.search.data.push(a),e.push(p.selectpicker.main.elements[d]))}p.activeIndex=void 0,p.noScroll=!0,p.$menuInner.scrollTop(0),p.selectpicker.search.elements=e,p.createView(!0),G.call(p,e,t)}else p.selectpicker.search.previousValue&&(p.$menuInner.scrollTop(0),p.createView(!1));p.selectpicker.search.previousValue=t})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(t){var e=this.$element[0];if(void 0===t)return this.$element.val();var i=k.call(this),s=y.call(this,i);$=[null,null,s],(t=!Array.isArray(t)?[t]:t).map(String);for(var n=0;n<i.length;n++){var o=i[n];o&&-1===t.indexOf(String(o.value))&&this.setSelected(o,!1)}return this.selectpicker.main.data.filter(function(e){return-1!==t.indexOf(String(e.value))&&(this.setSelected(e,!0),!0)},this),this.options.source.data&&e.appendChild(this.selectpicker.main.optionQueue),this.$element.trigger("changed"+B,$),this.$newElement.hasClass(P.SHOW)&&(this.multiple?this.setOptionStatus(!0):"number"==typeof(e=(e.options[e.selectedIndex]||{}).liIndex)&&(this.setSelected(this.selectedIndex,!1),this.setSelected(e,!0))),this.render(),$=null,this.$element},changeAll:function(e){if(this.multiple){void 0===e&&(e=!0);var t=this.$element[0],i=0,s=0,n=y.call(this);t.classList.add("bs-select-hidden");for(var o=0,l=this.selectpicker.current.data,r=l.length;o<r;o++){var a=l[o],c=a.option;c&&!a.disabled&&"divider"!==a.type&&(a.selected&&i++,c.selected=e,!0===(a.selected=e)&&s++)}t.classList.remove("bs-select-hidden"),i!==s&&(this.setOptionStatus(),$=[null,null,n],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e,t){var i=void 0===t;(e=e||window.event)&&e.stopPropagation(),!1===i&&(e=this.$newElement[0].classList.contains(P.SHOW),i=!0===t&&!1===e||!1===t&&!0===e),i&&this.$button.trigger("click.bs.dropdown.data-api")},open:function(e){this.toggle(e,!0)},close:function(e){this.toggle(e,!1)},keydown:function(e){var t,i,s,n=x(this),o=n.hasClass("dropdown-toggle"),l=(o?n.closest(".dropdown"):n.closest(R.MENU)).data("this"),r=l.findLis(),a=!1,c=e.which===T&&!o&&!l.options.selectOnTab,d=U.test(e.which)||c,h=l.$menuInner[0].scrollTop,p=!0===l.isVirtual()?l.selectpicker.view.position0:0;if(!(112<=e.which&&e.which<=123))if(!(o=l.$menu.hasClass(P.SHOW))&&(d||48<=e.which&&e.which<=57||96<=e.which&&e.which<=105||65<=e.which&&e.which<=90)&&(l.$button.trigger("click.bs.dropdown.data-api"),l.options.liveSearch))l.$searchbox.trigger("focus");else{if(e.which===E&&o&&(e.preventDefault(),l.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),d){if(!r.length)return;-1!==(d=(t=l.selectpicker.main.elements[l.activeIndex])?Array.prototype.indexOf.call(t.parentElement.children,t):-1)&&l.defocusItem(t),e.which===N?(-1!==d&&d--,d+p<0&&(d+=r.length),l.selectpicker.view.canHighlight[d+p]||-1===(d=l.selectpicker.view.canHighlight.slice(0,d+p).lastIndexOf(!0)-p)&&(d=r.length-1)):e.which!==D&&!c||(++d+p>=l.selectpicker.view.canHighlight.length&&(d=l.selectpicker.view.firstHighlightIndex),l.selectpicker.view.canHighlight[d+p]||(d=d+1+l.selectpicker.view.canHighlight.slice(d+p+1).indexOf(!0))),e.preventDefault();var u=p+d;e.which===N?0===p&&d===r.length-1?(l.$menuInner[0].scrollTop=l.$menuInner[0].scrollHeight,u=l.selectpicker.current.elements.length-1):(i=l.selectpicker.current.data[u])&&(a=(s=i.position-i.height)<h):e.which!==D&&!c||(d===l.selectpicker.view.firstHighlightIndex?(l.$menuInner[0].scrollTop=0,u=l.selectpicker.view.firstHighlightIndex):(i=l.selectpicker.current.data[u])&&(a=h<(s=i.position-l.sizeInfo.menuInnerHeight))),t=l.selectpicker.current.elements[u],l.activeIndex=(l.selectpicker.current.data[u]||{}).index,l.focusItem(t),l.selectpicker.view.currentActive=t,a&&(l.$menuInner[0].scrollTop=s),(l.options.liveSearch?l.$searchbox:n).trigger("focus")}else if(!n.is("input")&&!V.test(e.which)||e.which===A&&l.selectpicker.keydown.keyHistory){var f,m=[];e.preventDefault(),l.selectpicker.keydown.keyHistory+=C[e.which],l.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(l.selectpicker.keydown.resetKeyHistory.cancel),l.selectpicker.keydown.resetKeyHistory.cancel=l.selectpicker.keydown.resetKeyHistory.start(),f=l.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(f)&&(f=f.charAt(0));for(var v=0;v<l.selectpicker.current.data.length;v++){var g=l.selectpicker.current.data[v];w(g,f,"startsWith",!0)&&l.selectpicker.view.canHighlight[v]&&m.push(g.index)}m.length&&(u=0,r.removeClass("active").find("a").removeClass("active"),1===f.length&&(-1===(u=m.indexOf(l.activeIndex))||u===m.length-1?u=0:u++),r=m[u],a=0<h-(i=l.selectpicker.main.data[r]).position?(s=i.position-i.height,!0):(s=i.position-l.sizeInfo.menuInnerHeight,i.position>h+l.sizeInfo.menuInnerHeight),t=l.selectpicker.main.elements[r],l.activeIndex=m[u],l.focusItem(t),t&&t.firstChild.focus(),a&&(l.$menuInner[0].scrollTop=s),n.trigger("focus"))}o&&(e.which===A&&!l.selectpicker.keydown.keyHistory||e.which===O||e.which===T&&l.options.selectOnTab)&&(e.which!==A&&e.preventDefault(),l.options.liveSearch&&e.which===A||(l.$menuInner.find(".active a").trigger("click",!0),n.trigger("focus"),l.options.liveSearch||(e.preventDefault(),x(document).data("spaceSelect",!0))))}},mobile:function(){this.options.mobile=!0,this.$element[0].classList.add("mobile-device")},refresh:function(){var e=this,t=x.extend({},this.options,h(this.$element),this.$element.data());this.options=t,this.options.source.data?(this.render(),this.buildList()):this.fetchData(function(){e.render(),e.buildList()}),this.checkDisabled(),this.setStyle(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed"+B)},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),(this.$bsContainer||this.$menu).remove(),this.selectpicker.view.titleOption&&this.selectpicker.view.titleOption.parentNode&&this.selectpicker.view.titleOption.parentNode.removeChild(this.selectpicker.view.titleOption),this.$element.off(B).removeData("selectpicker").removeClass("bs-select-hidden selectpicker mobile-device"),x(window).off(B+"."+this.selectId)}};var Q=x.fn.selectpicker;function Y(){return H.major<5?x.fn.dropdown?(x.fn.dropdown.Constructor._dataApiKeydownHandler||x.fn.dropdown.Constructor.prototype.keydown).apply(this,arguments):void 0:m.dataApiKeydownHandler}x.fn.selectpicker=K,x.fn.selectpicker.Constructor=_,x.fn.selectpicker.noConflict=function(){return x.fn.selectpicker=Q,this},x(document).off("keydown.bs.dropdown.data-api").on("keydown.bs.dropdown.data-api",":not(.bootstrap-select) > ["+R.DATA_TOGGLE+"]",Y).on("keydown.bs.dropdown.data-api",":not(.bootstrap-select) > .dropdown-menu",Y).on("keydown"+B,".bootstrap-select ["+R.DATA_TOGGLE+'], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',_.prototype.keydown).on("focusin.modal",".bootstrap-select ["+R.DATA_TOGGLE+'], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',function(e){e.stopPropagation()}),document.addEventListener("DOMContentLoaded",function(){x(".selectpicker").each(function(){var e=x(this);K.call(e,e.data())})})}(e)});
//# sourceMappingURL=bootstrap-select.min.js.map